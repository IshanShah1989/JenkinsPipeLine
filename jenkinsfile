pipeline{
	agent{
		node{
			label 'master'
		}
	}
	
	options{
		timestamps()
	}
	
	
	stages{
		stage("Checkout, Test & Publish") {
			steps{
				git "https://github.com/IshanShah1989/JenkinsPipeLine.git"
				script{
					bat(/mvn clean test/)
				}
				
				step([$class : 'Publisher', reportFileNamePattern : '**/testng-results.xml'])
			}
		}
	}
}